# Ajustado para desenvolvimento avançado em React Native
paths = [
  "node_modules",
  "build",
  "dist",
  ".git",
  "coverage",
  "android",
  "ios"
]

[focus]
paths = [
  "src/views",
  "src/components",
  "src/types",
  "src/contexts",
  "src/hooks",
  "src/services",
  "src/utils",
  "src/assets",
  "src/navigation",
  "src/store",
  "__tests__",
  "src/features"
]

[metadata]
project = "Front-end App Financeiro"
description = "Aplicativo de gestão financeira pessoal desenvolvido com React Native"
tech_stack = [
  "React Native",
  "TypeScript",
  "React Navigation",
  "React Query",
  "Expo",
  "React Native Elements",
  "Zustand",
  "AsyncStorage",
  "ESLint + Prettier"
]
package_manager = "yarn"

[guidelines]
linguagem = "Todo código, documentação e comentários devem ser em inglês. Conversas e respostas em português"
arquitetura = "Aplicar princípios de Clean Architecture"
boas_praticas = [
  "Sempre criar código e layout de forma profissional, com boas práticas de UX e UI",
  "Seguir os princípios SOLID",
  "Aplicar práticas de Clean Code",
  "Separar bem camadas: components, views, services, etc",
  "Evitar side-effects fora de hooks controlados",
  "Usar hooks customizados para encapsular lógica de negócio",
  "Centralizar temas e estilos com styled-components ou StyleSheetTheme",
  "Criar componentes pequenos e reutilizáveis",
  "Evitar lógica de negócio em componentes visuais",
  "Nomear arquivos e variáveis com clareza e consistência",
  "Evitar renderizações desnecessárias (memoização com React.memo e useCallback)",
  "Utilizar FlatList e SectionList para listas performáticas",
  "Implementar Skeletons ou placeholders para carregamento de dados",
  "Gerenciar estados locais com hooks e globais com Zustand/Recoil/Jotai",
  "Usar navegação tipada com React Navigation e TypeScript",
  "Separar as validações de formulário com zod ou yup",
  "Utilizar ENV para armazenar configurações sensíveis (com react-native-dotenv)",
  "Usar diretórios contextuais por feature (feature-based structure)",
  "Garantir acessibilidade e compatibilidade com diferentes tamanhos de tela",
  "Evitar usar valores fixos de padding/margin — usar constantes ou utilitários de espaçamento",
  "Toda nova tela deve obrigatoriamente utilizar o componente ViewDefault como base estrutural",
  "Nenhuma alteração deve modificar o comportamento visual, estrutural ou funcional da aplicação sem validação e justificativa clara"
]
style = "Seguir o padrão atual do projeto, respeitando o que já foi feito como: temas, estilos, etc"
types = "Usar TypeScript fortemente tipado"
tratamento_de_erros = "Sempre tratar erros com try/catch e mensagens claras"
log = "Usar o logger central da aplicação (ex: react-native-logs ou Logger próprio)"
sem_efeitos_colaterais = true
melhor_solucao = "Sempre sugerir a melhor implementação possível"
revisao_automatica = "Após cada sugestão, revisar e corrigir automaticamente erros de lint e imports"
documentacao = "Sempre documentar funções e componentes públicos"
testes = "Sugerir cenários de teste unitário e de integração para novos módulos"
seguranca = "Evitar práticas inseguras como eval, uso direto de dados sensíveis no código, etc"
reutilizacao = "Buscar reutilizar código existente e criar bibliotecas internas quando necessário"
melhorias = "Sugerir refatorações não-invasivas quando necessário"
evitar = [
  "Funções que modificam estado global sem necessidade",
  "Código duplicado",
  "Responsabilidades misturadas",
  "Acesso direto a APIs externas sem camada de abstração"
]

[review]
ativar = true
modo = "Sugira revisão técnica ou refatoração com base no código e contexto"

[reuse]
verificacao_previa = "Antes de sugerir novo código, procure soluções similares já existentes no projeto"

[convencao_arquivos]
descricao = "Padronização de nomes de arquivos e diretórios conforme o tipo e função no projeto"
padrao = ["src/features", "src/services", "src/hooks", "src/components", "__tests__"]

[convencao_arquivos.padroes]
"componentes" = "PascalCase — ex: UserCard.tsx"
"hooks" = "camelCase começando com 'use' — ex: useAuth.ts"
"servicos" = "camelCase — ex: userService.ts"
"paginas" = "PascalCase — ex: Dashboard.tsx"
"estilos" = "camelCase ou global — ex: userCard.module.css ou global.css"
"contextos" = "camelCase — ex: authContext.tsx"
"testes" = "Mesmo nome do alvo + .test — ex: UserCard.test.tsx"
"tipos_interfaces" = "PascalCase — ex: UserTypes.ts"
"constantes" = "camelCase — ex: appConstants.ts ou colors.ts"

[convencao_arquivos.regras]
evitar = [
  "kebab-case para arquivos React",
  "Nomes genéricos como index.ts fora de contexto",
  "Arquivos misturando responsabilidades (ex: lógica e UI no mesmo arquivo)",
  "Arquivos com nomes ambíguos ou sem clareza de propósito"
]

[metricas]
ferramentas = ["SonarQube", "Istanbul", "React Profiler"]

[dependencias]
criterios = [
  "Verificar se já existe dependência semelhante instalada",
  "Priorizar libs estáveis e amplamente adotadas",
  "Evitar dependências sem manutenção ativa",
  "Auditar pacotes antes da inclusão (ex: npm audit, Snyk)"
]
substituicao = "Caso uma lib esteja obsoleta, sugerir alternativas com mesma funcionalidade e melhor suporte"

[modo_review]
ativar = true
acoes = ["Sugerir melhorias técnicas", "Identificar complexidades desnecessárias", "Apontar padrões divergentes"]

[seguranca]
boas_praticas = [
  "Nunca expor segredos ou chaves diretamente no código",
  "Usar arquivos .env e bibliotecas como react-native-dotenv para variáveis sensíveis",
  "Sanitizar todas as entradas de usuário (XSS, injections, etc)",
  "Evitar o uso de eval, new Function ou qualquer forma de execução dinâmica de código",
  "Sempre validar e tratar respostas de APIs externas",
  "Usar HTTPS em todas as comunicações",
  "Configurar headers de segurança em chamadas HTTP (CORS, CSP, etc)",
  "Atualizar regularmente dependências com alertas de segurança",
  "Monitorar pacotes com ferramentas como npm audit ou Snyk",
  "Evitar o uso de bibliotecas sem manutenção ou sem histórico confiável",
  "Implementar autenticação segura (mesmo que mock) e controle de acesso básico",
  "Desabilitar logs sensíveis em produção"
]

[testes]
unitarios = true
integracao = true
cenarios = "Cobrir lógica de negócio, fluxos principais e integrações entre módulos"
cobertura = "Manter cobertura mínima de 80% para código crítico"
ferramentas = ["Jest", "React Testing Library", "MSW para mocks de API"]

[performance]
boas_praticas = [
  "Evitar re-renders desnecessários",
  "Implementar virtualização para listas longas",
  "Otimizar imagens e assets",
  "Usar lazy loading quando apropriado",
  "Monitorar e otimizar bundle size",
  "Implementar cache de dados e queries"
]

[acessibilidade]
boas_praticas = [
  "Garantir contraste adequado de cores",
  "Implementar suporte a VoiceOver/TalkBack",
  "Usar labels semânticos",
  "Manter tamanho mínimo de toque (44x44)",
  "Suportar modo escuro",
  "Testar com leitores de tela"
]

[padrao_crud]
descricao = "Padrão de implementação de CRUD usando Company como referência"
estrutura = [
  "src/features/{entidade}/components/",
  "src/features/{entidade}/hooks/",
  "src/features/{entidade}/services/",
  "src/features/{entidade}/types/",
  "src/features/{entidade}/utils/"
]
arquivos = [
  "index.tsx - Lista principal com filtros e ações",
  "components/Form.tsx - Formulário de criação/edição",
  "components/List.tsx - Componente de listagem",
  "components/Filter.tsx - Componente de filtros",
  "hooks/use{Entidade}.ts - Hook com lógica de negócio",
  "services/{entidade}Service.ts - Serviço de API",
  "types/index.ts - Tipos e interfaces"
]
padrao_company = [
  "Usar ViewDefault como base estrutural",
  "Implementar filtros no topo (status, data, etc)",
  "Lista com FlatList/SectionList para performance",
  "Ações principais em FAB ou botão flutuante",
  "Formulário em modal ou tela dedicada",
  "Validação com zod/yup",
  "Feedback visual com Alert/Toast",
  "Loading states com Skeleton",
  "Tratamento de erros com try/catch",
  "Confirmação para ações destrutivas",
  "Cache e invalidação com React Query",
  "Tipagem forte com TypeScript"
]
componentes = [
  "Input com validação e máscara",
  "Select com busca e múltipla seleção",
  "DatePicker para datas",
  "Switch para booleanos",
  "Card para agrupamento visual",
  "Button com variantes (primary, danger, etc)",
  "Modal para confirmações",
  "Toast para feedback",
  "Skeleton para loading"
]
hooks = [
  "use{Entidade}List - Listagem e filtros",
  "use{Entidade}Form - Formulário e validação",
  "use{Entidade}Actions - Ações (create, update, delete)",
  "use{Entidade}Filters - Lógica de filtros"
]
servicos = [
  "list - Listagem com paginação e filtros",
  "create - Criação com validação",
  "update - Atualização com validação",
  "delete - Remoção com confirmação",
  "getById - Busca por ID"
]
tipos = [
  "{Entidade} - Interface principal",
  "Create{Entidade}Payload - Payload de criação",
  "Update{Entidade}Payload - Payload de atualização",
  "{Entidade}Filters - Filtros disponíveis",
  "{Entidade}Status - Status possíveis"
]

[mensagem_commit]
padrao = "sugira uma mensagem de commit para o usuário sempre em inglês"
acoes = ["quando usuário digitar commit, sugerir uma mensagem de commit para o usuário em inglês"]
formato = "tipo(escopo): descrição curta e clara"
tipos = ["feat", "fix", "docs", "style", "refactor", "test", "chore", "perf", "ci", "build"]
